<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </h:head>
    <h:body>
        <ui:composition template="templates/omaseutuTemplate.xhtml">
            
            <ui:define name="content" class="left_content">            
            <h:form style="margin-left: 21%;">
                <h2>Rekisteröinti</h2>  
                <br /><br />
                <h:panelGroup rendered="#{kirppisBean.kirppisService.rekisterointiSivuNaytetaan == true}">
                Tervetuloa! Olet uusi käyttäjä sivustollamme. Pyydämme täyttämään tietosi, jotta ne tallentuvat tietokantaan myöhempää käyttöä varten.
                <br /><br />
                <table>
                    <tr>
                        <td>Nimi:</td>
                        <td><p:inputText type="text" style="width: 200px" value="#{kirppisBean.kirppisService.kirjautunutKayttaja.facebooknimi}" /><br /></td>
                    </tr>                    
                    <tr>
                        <td>Email:</td>
                        <td><p:inputText type="text" style="width: 200px" value="#{kirppisBean.kirppisService.kirjautunutKayttaja.sahkoposti}" /><br /></td>
                    </tr>
                    <tr>
                        <td>Postinumero:</td>
                        <td><p:inputText type="text" style="width: 200px" value="#{kirppisBean.kirppisService.kirjautunutKayttaja.postinumero}" /><br /></td>
                    </tr>
                    <tr>
                        <td>Puhelinnumero:</td>
                        <td><p:inputText type="text" style="width: 200px" value="#{kirppisBean.kirppisService.kirjautunutKayttaja.puhelinnumero}" /><br /></td>
                    </tr>
                    <tr>
                        <td>Näytä sähköposti:</td>
                        <td><h:selectBooleanCheckbox value="#{kirppisBean.kirppisService.naytaSahkoposti}" /><br /></td>
                    </tr>
                    <tr>
                        <td>Näytä puhelinnumero:</td>
                        <td><h:selectBooleanCheckbox value="#{kirppisBean.kirppisService.naytaPuhelin}" /><br /></td>
                    </tr>
                    <tr><td /><td style="float: right">
                        <p:commandButton action="#{kirppisBean.kirppisService.lisaaKayttaja()}" value="Ok" />
                        </td></tr>
                </table>
                </h:panelGroup>
                
                <!-- Mikäli käyttäjä on jo kirjautunut -> ohjataan käyttäjä omasivu.xhtml -->
                <h:panelGroup rendered="#{kirppisBean.kirppisService.onkoKayttajaKirjautunut == true}">
                #{kirppisBean.kirppisService.ohjaaOmasivu()}
                </h:panelGroup>
                <!-- Mikäli käyttäjä ei ole reksteroitymassa eika ole kirjautunut -> näytetään facebook kirjautumis nappi!  -->
                <h:panelGroup rendered="#{kirppisBean.kirppisService.naytaFacebookkirjautuminen() == true}">
                Reskisteroidy omaseutukirppis.fi -palveluun facebook tunnuksillasi.<br /> 
                <div class="fb-login-button" onlogin="CheckLoginStatus();"  data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="true" style="width: 132px !important;"></div> 
                </h:panelGroup>
                    
            </h:form>
            </ui:define>            
        </ui:composition>
    </h:body>
</html>

