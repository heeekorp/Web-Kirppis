<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        
    </h:head>
    <h:body>
        
        <ui:composition template="templates/omaseutuTemplate.xhtml">

        <ui:define name="content">            
        
        <div style="margin-left: 21%">   
               
            <h:form enctype="multipart/form-data">             
            
            <h2>Muokkaa ilmoitusta</h2> 
            <br></br>

            <h:outputText value="*Otsikko:" style="font-weight: bold"></h:outputText><br />
            <p:inputText style="width: 500px;" value="#{kirppisBean.kirppisService.naytettavaIlmoitus.otsikko}" ></p:inputText> 

            <br></br>
            <br></br>

            <h:outputText value="Kuva:" style="font-weight: bold"></h:outputText><br />
            <h:inputFile value="#{kirppisBean.kirppisService.kuvaTiedosto}" />

            <br></br>
            <br></br>

            <h:outputText value="*Hinta:" style="font-weight: bold"></h:outputText><br />
            <h:panelGrid columns="2">
                <p:inputText value="#{kirppisBean.kirppisService.naytettavaIlmoitus.hinta}" style="width: 150px;"></p:inputText>
                <h:outputText value="€" style="font-weight: bold"></h:outputText>
            </h:panelGrid>

            <br></br>
            <br></br>

            <h:outputText value="*Kuvausteksti:" style="font-weight: bold"></h:outputText><br />
            <p:inputTextarea value="#{kirppisBean.kirppisService.naytettavaIlmoitus.kuvaus}" style="height: 300px;width: 500px;"/>

            <br></br>
            <br></br>

            <h:outputText value="*Kategoria:" style="font-weight: bold"></h:outputText><br />
            <h:selectOneMenu id="Paamenu" value = "#{kirppisBean.kirppisService.naytettavaIlmoitus.alakategoriaId.valikategoriaId.paakategoriaId}" style="min-width: 200px;">
                <f:selectItem itemLabel="#{kirppisBean.kirppisService.naytettavaIlmoitus.alakategoriaId.valikategoriaId.paakategoriaId.paakategoriannimi}" itemValue="#{null}" noSelectionOption="true" />
                <f:selectItems value="#{kirppisBean.kirppisService.paakategoriat}" var="paa" itemValue="#{paa.paakategoriaId}" itemLabel="#{paa.paakategoriannimi}" />
                <f:ajax render="Valimenu Alamenu" execute="Paamenu"></f:ajax>
            </h:selectOneMenu>
            <br />   
            <!-- Ei toimi vielä -->
            <h:selectOneMenu id="Valimenu" value="#{kirppisBean.kirppisService.naytettavaIlmoitus.alakategoriaId.valikategoriaId}" style="min-width: 200px;">
                <f:selectItem itemLabel="#{kirppisBean.kirppisService.naytettavaIlmoitus.alakategoriaId.valikategoriaId.valikategoriannimi}" itemValue="#{null}" noSelectionOption="true" />
                <f:selectItems value="#{kirppisBean.kirppisService.haeValittuValikategoria()}" var="vali" itemValue="#{vali.valikategoriaId}" itemLabel="#{vali.valikategoriannimi}" />
                <f:ajax render="Alamenu" execute="Valimenu"></f:ajax> 
            </h:selectOneMenu>
            <br />   
            <!-- Ei toimi vielä -->
            <h:selectOneMenu id ="Alamenu" value="#{kirppisBean.kirppisService.naytettavaIlmoitus.alakategoriaId}" style="min-width: 200px;">
                <f:selectItem itemLabel="#{kirppisBean.kirppisService.naytettavaIlmoitus.alakategoriaId.alakategorianimi}" itemValue="#{null}" noSelectionOption="true" />
                <f:selectItems value="#{kirppisBean.kirppisService.haeValittuAlakategoria()}" var="ala" itemValue="#{ala.alakategoriaId}" itemLabel="#{ala.alakategorianimi}" />
                <f:ajax execute="Alamenu"></f:ajax>
            </h:selectOneMenu>
            
            <br></br>
            <br></br>

            <h:outputText value="Puhelinnumero:" style="font-weight: bold" />                      
            <h:panelGrid columns="3">
                <h:outputText style="font-size: 14px" value="#{kirppisBean.kirppisService.kirjautunutKayttaja.puhelinnumeroToString()}" />
                <p:selectBooleanCheckbox value="#{kirppisBean.kirppisService.naytaPuhelin}" />            
                <h:outputText value="Näytetään ilmoituksessa" />
            </h:panelGrid>

            <br></br>
            <br></br>

            <h:outputText value="Sähköposti:" style="font-weight: bold" />            
            <h:panelGrid columns="3">
                <h:outputText style="font-size: 14px" value="#{kirppisBean.kirppisService.kirjautunutKayttaja.sahkoposti}" />     
                <p:selectBooleanCheckbox value="#{kirppisBean.kirppisService.naytaSahkoposti}"/>            
                <h:outputText value="Näytetään ilmoituksessa" />
            </h:panelGrid>

            <br></br>    
            <br></br>

            <h:outputText value="Lisätietoja:" style="font-weight: bold"></h:outputText><br />
            <p:inputTextarea value="#{kirppisBean.kirppisService.naytettavaIlmoitus.lisatieto}" style="height: 100px;width: 500px;" />

            <br></br>
            <br></br>       

            <h:outputText value="*Tuotteen kunto:" style="font-weight: bold"></h:outputText><br />
            <p:selectOneMenu id="kunto" value="#{kirppisBean.kirppisService.naytettavaIlmoitus.tuotteenkunto}">
                <f:selectItem itemLabel="Valitse..." itemValue="" />
                <f:selectItem itemLabel="Uusi" itemValue="4" />
                <f:selectItem itemLabel="Erinomainen" itemValue="3" />
                <f:selectItem itemLabel="Hyvä" itemValue="2" />
                <f:selectItem itemLabel="Tyydyttävä" itemValue="1" />
            </p:selectOneMenu>

            <br></br>
            <br></br>
            <h:form>
            <h:panelGrid columns="2">
                <h:commandButton value="Peruuta" action="ilmoituksenesittely" />
                <!-- Ei toimi vielä -->
                <h:commandButton value="Julkaise ilmoitus" action="#{kirppisBean.kirppisService.julkaiseUusiIlmoitus()}" />
            </h:panelGrid>
            </h:form>
        </h:form>
        
        </div>
            
        </ui:define>

        </ui:composition>  
          
    </h:body>
</html>



